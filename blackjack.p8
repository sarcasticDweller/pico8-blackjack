pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
#include cards.p8
#include decks.p8
#include animator.p8
#include frames.p8

function _init()
    printh("starting game")
    framerate = 30

    deck = Deck:new(standard_52_card_deck_face_down)
    discard = Deck:new(empty_deck)
    dealer_hand = Deck:new(empty_deck)
    deck:shuffle()

    cardimations = AnimatorController:new()
    cardimations:add_anim("flip", Animation:new(CardFlipBackFront))
    dt = 0

    printh("init complete")
end
function _update()
    dt += 1
    if (dt > framerate) dt = 0
    if (btnp(4)) cardimations:start_anim("flip")
end
function _draw()
    cls()
    map()
    draw_deck(CardFlipBackFront[1], 10, 10)
    cardimations:play_anim(dt, 10, 10)
end

__gfx__
00000000888088008800888088000000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000800080808080808080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700800080808080808080800000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000880088008800808088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000880080808080808080800000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700800080808080808080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000800080808080808080800000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888080808080888080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00999999999999999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0999a9aa9aa99aa9aa9a999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
999a9999999999999999a99900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99a991111111111111199a9900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a99111111111111111199a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99911111111111111111199900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a91111111111111111119a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a91111111111111111119a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99911111111111111111199900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a91111111111111111119a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a91111111111111111119a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99911111111111111111199900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99911111111111111111199900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a91111111111111111119a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a91111111111111111119a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99911111111111111111199900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a91111111111111111119a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a91111111111111111119a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99911111111111111111199900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a99111111111111111199a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99a991111111111111199a9900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
999a9999999999999999a99900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0999a9aa9aa99aa9aa9a999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00999999999999999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00555555000555500005555000500006000066660006666660000000000000000000000000000000000000000000000000000000000000000000000000000000
0533333360053335000533350536006d5006ddd6006dddddd6000000000000000000000000000000000000000000000000000000000000000000000000000000
5333333336533333605333350536006d506ddddd56dddddddd500000000000000000000000000000000000000000000000000000000000000000000000000000
533333333653333336533333653366dd56dddddd56dddddddd500000000000000000000000000000000000000000000000000000000000000000000000000000
533333333653333336533333653366dd56dddddd56dddddddd500000000000000000000000000000000000000000000000000000000000000000000000000000
533333333653333336533333653366dd56dddddd56dddddddd500000000000000000000000000000000000000000000000000000000000000000000000000000
533333333653333336533333653366dd56dddddd56dddddddd500000000000000000000000000000000000000000000000000000000000000000000000000000
533333333653333336533333653366dd56dddddd56dddddddd500000000000000000000000000000000000000000000000000000000000000000000000000000
533333333653333336533333653366dd56dddddd56dddddddd500000000000000000000000000000000000000000000000000000000000000000000000000000
533333333653333336533333653366dd56dddddd56dddddddd500000000000000000000000000000000000000000000000000000000000000000000000000000
053333336005333336063333605366d506ddddd5005dddddd5000000000000000000000000000000000000000000000000000000000000000000000000000000
006666660000633360063336005366d5005ddd500005555550000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000006666000666600060050005555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000091111111
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004ccc1111
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004eeeccc1
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004777eee1
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004eee7771
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004ccceee1
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004111ccc1
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041111111
__map__
1011111111111111111111111111111200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021212121212121212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3031313131313131313131313131313200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
